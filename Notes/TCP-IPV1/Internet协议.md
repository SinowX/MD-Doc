# Internet 协议

- IP 是 TCP/IP协议族中的 核心协议
- IP 提供了一种尽力而为、无连接的数据报交互服务
  - 尽力而为：不保证IP数据报能成功到达目的地
  - 无连接：IP不维护网络单元（路由器）中数据报相关的任何连接状态信息，每个数据报独立于其他数据报来处理
    - IP数据报可不按照顺序交付

## IPv4数据报

- <img src="https://i.loli.net/2021/10/12/rbd3swxGRlBW8TS.png" alt="image-20210905105130794" style="zoom:50%;" />
  - 头部大小可变，4位的IHL字段被限制为15个32位字，60字节
  - 一个典型的IPv4头部包含20字节（不包含选项）
  - 源地址和目的地址长度为32位
  - 第二个32位字大部分用于IPv4分片功能
  - 头部校验和 有助于确保头部字段被正确发送到目的地，但不保护数据内容

## IPv6数据报

<img src="https://i.loli.net/2021/10/12/Fd4GJtB6H1REUrI.png" alt="image-20210905105654449" style="zoom:50%;" />

- IPv6头部大小固定40字节，并包含128位源地址和目的地址
- 下一个头部字段用于说明IPv6头部之后其他扩展头部的存在和类型，他们形成一条包括特殊扩展或处理指令的头部链
- 应用数据跟在头部链之后，通常紧跟着的是一个传输层头部
- 