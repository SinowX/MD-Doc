# 8088 CPU

## 最小模式

| 引线                  | 说明                                                         |
| --------------------- | ------------------------------------------------------------ |
| $AD_0-AD_7$           | 低8位地址和低8位数据信号分时复用；在传送地址信号时为单向，在传送数据信号时为双向 |
| $A_8-A_{15}$          | 8 为地址信号                                                 |
| $A_{16}-A_{19}/S3-S6$ | 高4位地址信号，与状态信号分时复用                            |
| $\overline{WR}$       | 写信号                                                       |
| $\overline{RD}$       | 读信号                                                       |
| $IO/\overline{M}$     | 0 表示访问内存，1表示访问接口                                |
| $\overline{DEN}$      | 0 表示数据总线上数据有效，允许进行读/写操作                  |
| $DT/\overline{R}$     | 数据收发器的传送方向控制，1 表示 CPU 向存储器或I/O传送，0 相反 |
| $ALE$                 | 地址锁存信号，1 表示地址线上地址有效，一般用于将地址锁存到一个锁存器中 |
| $RESET$               | 复位信号，1 表示将完成CPU内部复位                            |
| $READY$               | 外部同步控制输入信号，1 表示有效，8088 与内存/外设之间在一个总线周期内的时钟配合信号 |
| $INTR$                | 可屏蔽中断请求输入端                                         |
| $NMI$                 | 非屏蔽中断请求输入端                                         |
| $\overline{INTA}$     | 中断响应输出端                                               |
|                       |                                                              |

- 复位后CPU内部寄存器

  - | 内部寄存器 | 内容  |
    | ---------- | ----- |
    | CS         | FFFFH |
    | DS         | 0000H |
    | SS         | 0000H |
    | ES         | 0000H |
    | IP         | 0000H |
    | FLAGS      | 0000H |
    | 其余寄存器 | 0000H |
    | 指令队列   | 空    |

- 8088 和 8086 CPU引线的差异
  - 数据总线宽度不同
    - 8088 的外部数据总线宽度是8位，8086为 16位
  - 访问存储器和I/O控制的信号高低有效不同
    - 8088 $IO/\overline{M}=0$ 表示访问内存
    - 8086 $\overline{IO}/M=1$ 表示访问内存



## 内部寄存器

### 通用寄存器——8个

| 类别           | 寄存器         |
| -------------- | -------------- |
| 数据寄存器     | AB、BX、CX、DX |
| 地址指针寄存器 | SP、BP         |
| 变址寄存器     | SI、DI         |

- AX：累加器
  - 所有IO指令都通过AX与接口传送信息，中间运算结果也多放在AX
- BX：基址寄存器
  - 在间接寻址中用于存放基地址（数据段）
- CX：技术寄存器
  - 用于在循环或串操作指令中存放计数值
- DX：数据寄存器
  - 在间接寻址的IO指令中存放IO端口地址
  - 在32位乘除法时，存放高16位数
- SP：堆栈指针寄存器
  - 其内容为栈顶的偏移地址
- BP：基址指针寄存器
  - 常用于在访问内存时存放内存单元的偏移地址（堆栈段）
- SI：源变址寄存器
  - 变址寄存器在指令中常用于存放数据在内存中的位置
- DI：目标变址寄存器
  - 变址寄存器在指令中常用于存放数据在内存中的位置



### 段寄存器——4个

- CS：代码段寄存器，存放代码段的段基地址。
- DS：数据段寄存器，存放数据段的段基地址。
- ES：附加段寄存器，存放数据段的段基地址。
- SS：堆栈段寄存器，存放堆栈段的段基地址。



### 控制寄存器——2个

- IP：指令指针寄存器
  - 其内容为下一条要执行指令的偏移地址
- FLAGS：指令指针寄存器
  - 存放运算结果的状态特征和控制CPU的运行
  - 6 个状态标志位
  - CF Carry Flag
    - 进位标志位
    - 加(减)法运算时，若最高位有进(借)位，则CF=1
  - PF Parity Flag
    - 奇偶标志位
    - 运算结果的低8位中1的个数为偶时，PF=1
  - AF Auxiliary Carry Flag
    - 辅助进位标志位
    - 加减操作中，若Bit3向Bit4有进位或借位，则 AF=1
  - ZF Zero Flag
    - 零标志位
    - 当运算结果为0时，ZF=1
  - SF Sign Flow
    - 符号标志位
    - 当运算结果的最高位为1时，SF=1
  - OF Overflow Flag
    - 溢出标志位
    - 当算数运算的结果超出了有符号数的可表达范围时，OF=1
  - 3 个控制标志位
  - TF Trap Flag
    - 陷阱标志位
    - TF=1时，CPU处于单步执行指令的工作方式
  - IF Interrupt Enable Flag
    - 中断允许标志位
    - IF=1时，CPU可以响应可屏蔽中断请求
  - DF Direction Flag
    - 方向标志位
    - 在数据串操作时确定操作的方向



