## 用户和组的系统文件

### /etc/passwd

- 每个用户帐号，专列一行进行描述

- ```bash
  root:x:0:0::/root:/bin/bash
  nobody:x:65534:65534:Nobody:/:/usr/bin/nologin
  dbus:x:81:81:System Message Bus:/:/usr/bin/nologin
  bin:x:1:1::/:/usr/bin/nologin
  daemon:x:2:2::/:/usr/bin/nologin
  mail:x:8:12::/var/spool/mail:/usr/bin/nologin
  ftp:x:14:11::/srv/ftp:/usr/bin/nologin
  http:x:33:33::/srv/http:/usr/bin/nologin
  systemd-journal-remote:x:982:982:systemd Journal Remote:/:/usr/bin/nologin
  systemd-network:x:981:981:systemd Network Management:/:/usr/bin/nologin
  systemd-resolve:x:980:980:systemd Resolver:/:/usr/bin/nologin
  systemd-timesync:x:979:979:systemd Time Synchronization:/:/usr/bin/nologin
  systemd-coredump:x:978:978:systemd Core Dumper:/:/usr/bin/nologin
  uuidd:x:68:68::/:/usr/bin/nologin
  dhcpcd:x:977:977:dhcpcd privilege separation:/:/usr/bin/nologin
  dnsmasq:x:976:976:dnsmasq daemon:/:/usr/bin/nologin
  rpc:x:32:32:Rpcbind Daemon:/var/lib/rpcbind:/usr/bin/nologin
  avahi:x:975:975:Avahi mDNS/DNS-SD daemon:/:/usr/bin/nologin
  colord:x:974:974:Color management daemon:/var/lib/colord:/usr/bin/nologin
  git:x:973:973:git daemon user:/:/usr/bin/git-shell
  lightdm:x:972:972:Light Display Manager:/var/lib/lightdm:/usr/bin/nologin
  nm-openconnect:x:971:971:NetworkManager OpenConnect:/:/usr/bin/nologin
  nm-openvpn:x:970:970:NetworkManager OpenVPN:/:/usr/bin/nologin
  ntp:x:87:87:Network Time Protocol:/var/lib/ntp:/bin/false
  openvpn:x:969:969:OpenVPN:/:/usr/bin/nologin
  polkitd:x:102:102:PolicyKit daemon:/:/usr/bin/nologin
  usbmux:x:140:140:usbmux user:/:/usr/bin/nologin
  sinow:x:1000:1000:Sinow:/home/sinow:/bin/bash
  
  
  用户名:密码:ID:用户组ID:注释:家目录:登录使用的shell
  ```

- 共7个字段

  1. 登录名/用户名
     - 登录时，必须输入的唯一名称
  2. 加密过的密码
     - 启用了shadow密码后，置 x 不解析，经过加密的密码存储到shadow中
     - UNIX 广泛使用 DES 数据加密标准，也可以使用 MD5 等加密算法
  3. UID
     - 若字段为 0 ，则相应账户具有特权级权限，一般只有root一个
     - linux 2.4 及以后以 32 位值存储 UID
     - 允许同一个UID拥有多个登录名，便于使用不同密码访问相同资源
  4. GID
     - 用户主组的数值型 ID
  5. 注释
     - 存放关于用户的描述性文字，finger 等程序会显示此信息
  6. 主目录
     - $HOME
  7. 登录shell
     - 一旦用户登录，便由该程序控制
     - 通常为shell的一种
     - 若空，则为 /bin/bash
     - 会以该字段值来设置 SHELL 环境变量

### /etc/shadow

- 仅供特权级程序读取

- ```bash
  root:$6$jouwQ5Op84Tsjrss$jyo.Mxt89csWRtHJKBWrCe6zDXPr4ehAKtJYIkw0IrGjUruw33BJKjwA9JVnPXJtI4oPjJUICD8q.2phZoMoF.:18736::::::
  
  ```



### /etc/group

- ```bash
  root:x:0:root
  adm:x:999:daemon
  wheel:x:998:sinow
  kmem:x:997:
  tty:x:5:
  utmp:x:996:
  audio:x:995:
  disk:x:994:
  input:x:993:
  kvm:x:992:
  lp:x:991:sinow
  optical:x:990:
  rpc:x:32:
  locate:x:21:
  ntp:x:87:
  avahi:x:975:
  colord:x:974:
  git:x:973:
  lightdm:x:972:
  nm-openconnect:x:971:
  nm-openvpn:x:970:
  openvpn:x:969:
  polkitd:x:102:
  usbmux:x:140:
  sinow:x:1000:
  
  用户组名:密码:用户组ID:用户列表
  ```

- 用户所属各组信息由两部分组成

  1. 密码文件中相应用户记录的组ID字段
  2. 组文件列出的用户所属各组
  
- groups 命令显示所属组的信息
  
- 共4个字段

  1. 组名
     - 组的名称
  2. 加密过的密码
     - 很少使用组密码
     - 特权用户可用 gpasswd 设置组密码
  3. GID
  4. 用户列表
     - 属于该组的用户名列表，以都好分割

  

  